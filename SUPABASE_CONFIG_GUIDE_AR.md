# دليل إعداد مفاتيح Supabase وملف البيئة (.env)

لربط مشروع "بوصلة العافية" بقاعدة البيانات ونظام المصادقة، يجب إعداد مفاتيح الاتصال بشكل صحيح وآمن. اتبع الخطوات التالية بدقة:

## 1. الحصول على المفاتيح من Supabase
1. اذهب إلى [لوحة تحكم Supabase](https://supabase.com/dashboard).
2. اختر مشروعك الخاص بـ "بوصلة العافية".
3. من القائمة الجانبية اليسرى، اضغط على أيقونة الإعدادات (⚙️ **Settings**).
4. اختر **API** من القائمة الفرعية.
5. ستجد قسمين مهمين:
   - **Project URL:** الرابط الأساسي للمشروع.
   - **Project API keys:** ستجد مفتاحاً باسم `anon` (public).

## 2. إعداد ملف البيئة في المشروع
في مجلد المشروع الرئيسي، ابحث عن ملف باسم `.env.example` أو قم بإنشاء ملف جديد باسم `.env`.

### محتوى الملف المطلوب:
انسخ القيم التي حصلت عليها من الخطوة السابقة وضعها في الملف كالتالي:

```env
# رابط المشروع من Supabase Settings > API
VITE_SUPABASE_URL=https://your-project-id.supabase.co

# مفتاح anon (public) من Supabase Settings > API
VITE_SUPABASE_PUBLISHABLE_KEY=your-anon-key-here
```

## 3. ملاحظات أمنية هامة جداً
- **لا ترفع ملف `.env` إلى GitHub:** هذا الملف يحتوي على مفاتيح سرية. تأكد من وجوده داخل ملف `.gitignore`.
- **مفتاح anon:** هذا المفتاح آمن للاستخدام في الواجهة الأمامية (Frontend) لأننا قمنا بتفعيل نظام **RLS** في قاعدة البيانات، مما يعني أن المستخدم لا يمكنه رؤية بيانات غيره حتى لو امتلك هذا المفتاح.
- **مفتاح service_role:** لا تضعه أبداً في هذا الملف ولا تستخدمه في تطبيق الويب، فهو مفتاح "المدير الخارق" ويجب استخدامه فقط في الخادم (Backend) أو Edge Functions.

## 4. كيف يتأكد الكود من وجود هذه المفاتيح؟
لقد قمت بإعداد ملف الربط في `src/integrations/supabase/client.ts` ليقوم بقراءة هذه القيم تلقائياً:
```typescript
const SUPABASE_URL = import.meta.env.VITE_SUPABASE_URL;
const SUPABASE_PUBLISHABLE_KEY = import.meta.env.VITE_SUPABASE_PUBLISHABLE_KEY;
```

---
**بعد إضافة المفاتيح، قم بإعادة تشغيل المشروع (npm run dev) وسيعمل الربط الحقيقي فوراً.**
